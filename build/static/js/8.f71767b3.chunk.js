(this["webpackJsonpreact-boilarplate"]=this["webpackJsonpreact-boilarplate"]||[]).push([[8],{338:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a}));var r=function(e,t){var s=e*t;return s.toFixed(2)},a=function(e){return e.reduce((function(e,t){return e+t.quantity*t.newPrice}),0).toFixed(2)}},347:function(e,t,s){"use strict";s(2);var r=s(44),a=s(3);t.a=function(e){var t=e.register,s=e.errors,i=s.firstName,c=s.lastName,n=s.country,l=s.streetAddress,d=s.city,o=s.phone,p=s.email;return Object(a.jsxs)("div",{className:"form-col",children:[Object(a.jsx)("p",{className:"font-medium text-gray-700",children:"BILLING DETAILS"}),Object(a.jsxs)("div",{className:"grid grid-cols-2 gap-x-8",children:[Object(a.jsx)(r.a,{name:"firstName",type:"text",placeholder:"",label:"First Name",register:t,errorMessage:null===i||void 0===i?void 0:i.message}),Object(a.jsx)(r.a,{name:"lastName",type:"text",placeholder:"",label:"Last Name",register:t,errorMessage:null===c||void 0===c?void 0:c.message})]}),Object(a.jsx)(r.a,{name:"companyName",type:"text",placeholder:"",label:"Company Name(Optional)",register:t}),Object(a.jsx)(r.a,{name:"country",type:"text",placeholder:"",label:"COUNTRY / REGION",register:t,errorMessage:null===n||void 0===n?void 0:n.message}),Object(a.jsx)(r.a,{name:"streetAddress",type:"text",placeholder:"House number & street name",label:"STREET ADDRESS",register:t,errorMessage:null===l||void 0===l?void 0:l.message}),Object(a.jsx)(r.a,{name:"apartment",type:"text",placeholder:"Apartment, suite, unit, etc. (optional)",register:t}),Object(a.jsx)(r.a,{name:"city",type:"text",placeholder:"",label:"TOWN / CITY",register:t,errorMessage:null===d||void 0===d?void 0:d.message}),Object(a.jsx)(r.a,{name:"state",type:"text",placeholder:"",label:"STATE / COUNTRY(OPTIONAL)",register:t}),Object(a.jsx)(r.a,{name:"phone",type:"text",placeholder:"",label:"PHONE",register:t,errorMessage:null===o||void 0===o?void 0:o.message}),Object(a.jsx)(r.a,{name:"email",type:"email",placeholder:"",label:"EMAIL ADDRESS",register:t,errorMessage:null===p||void 0===p?void 0:p.message})]})}},348:function(e,t,s){"use strict";var r=s(34),a=s(11),i=s(2),c=s(44),n=s(3);t.a=function(e){var t=e.register,s=e.errors,l=e.show,d=Object(i.useState)(l),o=Object(a.a)(d,2),p=o[0],m=o[1],b=s.shippingFirstName,u=s.shippingLastName,j=s.shippingCountry,g=s.shippingStreetAddress,h=s.shippingCity,x=s.shippingDistrict;return Object(n.jsxs)("div",{className:"form-col relative",children:[Object(n.jsxs)("div",{className:"flex items-center gap-x-2 absolute -top-5",children:[Object(n.jsx)("input",{type:"checkbox",id:"shippingAddress",className:"cursor-pointer",onChange:function(){return m(!p)}}),Object(n.jsx)("label",{className:"font-medium text-gray-700 cursor-pointer",htmlFor:"shippingAddress",children:"SHIP TO A DIFFERENT ADDRESS?"})]}),p&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"mt-5 grid grid-cols-2 gap-x-8",children:[Object(n.jsx)(c.a,{name:"shippingFirstName",type:"text",placeholder:"",label:"First Name",register:t,errorMessage:null===b||void 0===b?void 0:b.message}),Object(n.jsx)(c.a,{name:"shippingLastName",type:"text",placeholder:"",label:"Last Name",register:t,errorMessage:null===u||void 0===u?void 0:u.message})]}),Object(n.jsx)(c.a,{name:"shippingCompanyName",type:"text",placeholder:"",label:"Company Name(Optional)",register:t}),Object(n.jsx)(c.a,{name:"shippingCountry",type:"text",placeholder:"",label:"COUNTRY / REGION",register:t,errorMessage:null===j||void 0===j?void 0:j.message}),Object(n.jsx)(c.a,{name:"shippingStreetAddress",type:"text",placeholder:"House number & street name",label:"STREET ADDRESS",register:t,errorMessage:null===g||void 0===g?void 0:g.message}),Object(n.jsx)(c.a,{name:"shippingApartment",type:"text",placeholder:"Apartment, suite, unit, etc. (optional)",register:t}),Object(n.jsx)(c.a,{name:"shippingCity",type:"text",placeholder:"",label:"TOWN / CITY",register:t,errorMessage:null===h||void 0===h?void 0:h.message}),Object(n.jsx)(c.a,{name:"shippingDistrict",type:"text",placeholder:"",label:"DISTRICT",register:t,errorMessage:null===x||void 0===x?void 0:x.message}),Object(n.jsx)(c.a,{name:"shippingPostalCode",type:"text",placeholder:"",label:"POSTAL / ZIP CODE(OPTIONAL)",register:t}),!l&&Object(n.jsxs)("div",{className:"form-row",children:[Object(n.jsx)("label",{className:"pb-0.5 text-gray-600 font-medium text-xs uppercase",children:"ORDER NOTES (OPTIONAL)"}),Object(n.jsx)("textarea",Object(r.a)({type:"text",className:"form-control input-border-primary ",placeholder:""},t("shippingOrderNotes")))]})]})]})}},349:function(e,t,s){"use strict";s(2);var r=s(3);t.a=function(e){var t=e.btnText,s=e.type,a=e.disabled;return Object(r.jsx)("button",{className:"mt-5 w-full text-center btn-secondary ".concat(a&&"cursor-not-allowed"),type:s,disabled:a,children:t})}},389:function(e,t,s){"use strict";s.r(t);var r=s(2),a=s(100),i=s(57),c=s(69),n=s(43),l=s(1),d=s.n(l),o=s(4),p=s(11),m=s(46),b=s(80),u=s(37),j=s(27),g=s(338),h=s(39),x=s(21),O=s(347),y=s(348),N=s(25),v=s(349),f=s(3),A=function(e){var t=e.submitting;return Object(f.jsxs)("div",{className:"py-10 bg-white text-black",children:[Object(f.jsxs)("div",{className:"px-10 pb-8 mb-8 border-b border-gray-100",children:[Object(f.jsx)("div",{className:"flex justify-center",children:Object(f.jsx)("img",{src:"https://www.royalfurniture.ae/wp-content/plugins/its-migs/images/its-migs.png",alt:""})}),Object(f.jsx)("div",{className:"py-5 px-5 text-sm ",children:"Pay securely by Credit Card/Debit Card through MasterCard Internet Gateway Service."})]}),Object(f.jsxs)("div",{className:"px-10 text-sm",children:["Your personal data will be used to process your order, support your experience throughout this website, and for other purposes described in our"," ",Object(f.jsx)(N.b,{to:"",className:"text-blue-400 hover:underline",children:"privacy policy"}),Object(f.jsx)(v.a,{btnText:"PLACE ORDER",type:"submit",disabled:t})]})]})},C=function(){var e=Object(j.b)().cartItems;return Object(f.jsxs)("div",{className:"text-xs font-medium",children:[Object(f.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-4",children:"YOUR ORDER"}),Object(f.jsxs)("div",{className:"px-5 py-6 grid grid-cols-2 bg-gray-200",children:[Object(f.jsx)("div",{children:"PRODUCT"}),Object(f.jsx)("div",{children:"SUB TOTAL"})]}),e.map((function(e){return Object(f.jsxs)("div",{className:"px-5 py-4 grid grid-cols-2 border border-t-0 border-gray-200",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(N.b,{to:"/product/".concat(e.productId),className:"hover:underline",children:e.name}),Object(f.jsxs)("span",{className:"pl-3 text-gray-900 font-bold",children:["x ",e.quantity]})]}),Object(f.jsxs)("div",{children:["AED ",Object(g.a)(e.newPrice,e.quantity)]})]},e.productId)})),Object(f.jsxs)("div",{className:"px-5 py-6 grid grid-cols-2 bg-aliceblue",children:[Object(f.jsx)("div",{className:"pb-6",children:"SUB TOTAL"}),Object(f.jsxs)("div",{className:"pb-6",children:["AED ",Object(g.b)(e)]}),Object(f.jsx)("div",{className:"pb-6",children:"SHIPPING"}),Object(f.jsx)("div",{className:"pb-6",children:"Flexible Shipping (Free)"})]}),Object(f.jsxs)("div",{className:"px-5 py-6 grid grid-cols-2 bg-gray-200",children:[Object(f.jsx)("div",{children:"TOTAL"}),Object(f.jsxs)("div",{className:"text-gray-900 font-bold text-sm",children:["AED ",Object(g.b)(e)]})]})]})},T=m.c().shape({firstName:m.e().required("First name is required").min(4).max(10),lastName:m.e().required("Last name is required").min(4).max(10),country:m.e().required("Country is required"),streetAddress:m.e().required("Street address is required"),city:m.e().required("City is required"),phone:m.e().required("Phone is required").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid"),email:m.e().email("Please enter a valid email address.").required("Email is required")}),S=function(e){var t=e.defaultValues,s=Object(x.g)(),a=Object(j.b)(),i=Object(n.d)().mutateAsync,c=Object(r.useState)(!1),l=Object(p.a)(c,2),m=l[0],N=l[1],v=Object(u.d)({defaultValues:t,resolver:Object(b.a)(T)}),S=v.register,E=v.handleSubmit,D=v.reset,I=v.formState.errors,P=function(){var e=Object(o.a)(d.a.mark((function e(t){var r,c,n,l,o,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={firstName:t.firstName,lastName:t.lastName,companyName:t.companyName,country:t.country,streetAddress:t.streetAddress,apartment:t.apartment,city:t.city,state:t.state,phone:t.phone,email:t.email},c={firstName:t.shippingFirstName,lastName:t.shippingLastName,companyName:t.shippingCompanyName,country:t.shippingCountry,streetAddress:t.shippingStreetAddress,apartment:t.shippingApartment,city:t.shippingCity,district:t.shippingDistrict,postalCode:t.shippingPostalCode,orderNotes:t.shippingOrderNotes},n={cartItems:a.cartItems,billingDetails:r,shippingAddress:c,taxPrice:0,shippingPrice:0,totalPrice:Number(Object(g.b)(a.cartItems))},N(!0),e.prev=4,e.next=7,i({path:"/add-order",formData:n});case 7:l=e.sent,o=l.status,p=l.data,201===o&&(h.b.success(p.message),a.deleteCartItems(),s.push("/user/my-account"),D()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),e.t0.response?h.b.error("Response : "+e.t0.response.data.message):e.t0.request?h.b.error("Request : "+e.t0.message):h.b.error("Error :",e.t0.message);case 16:return e.prev=16,N(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("form",{onSubmit:E(P),children:Object(f.jsxs)("div",{className:"pb-16 mt-5 text-gray-600",children:[Object(f.jsx)("div",{className:"mb-6",children:Object(f.jsx)("h1",{className:"pb-2 font-medium text-4xl uppercase",children:"Checkout"})}),Object(f.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[Object(f.jsx)(O.a,{register:S,errors:I}),Object(f.jsx)(C,{}),Object(f.jsx)(y.a,{register:S,errors:I,show:!1}),Object(f.jsx)(A,{submitting:m})]})]})})};t.default=function(){var e=Object(n.b)("userAddress","/user-address-book"),t=e.data,s=e.isLoading,r=e.isError,l=e.error;if(s)return Object(f.jsx)(i.a,{children:Object(f.jsx)(c.b,{})});if(r)return Object(f.jsx)(i.a,{children:Object(f.jsx)(a.a,{message:l.message})});var d=t.data,o=d.billingDetails,p=d.shippingAddress,m={firstName:o.firstName,lastName:o.lastName,companyName:o.companyName,country:o.country,streetAddress:o.streetAddress,apartment:o.apartment,city:o.city,state:o.state,phone:o.phone,email:o.email,shippingFirstName:p.firstName,shippingLastName:p.lastName,shippingCompanyName:p.companyName,shippingCountry:p.country,shippingStreetAddress:p.streetAddress,shippingApartment:p.apartment,shippingCity:p.city,shippingDistrict:p.district,shippingPostalCode:p.postalCode};return Object(f.jsx)(i.a,{children:Object(f.jsx)(S,{defaultValues:m})})}}}]);
//# sourceMappingURL=8.f71767b3.chunk.js.map
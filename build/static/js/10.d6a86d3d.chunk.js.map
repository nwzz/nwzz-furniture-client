{"version":3,"sources":["components/layout/AdminLayout.js","components/TopHeader.js","components/button/SaveButton.js","modAdmin/product/ProductForm.js","modAdmin/product/ProductAdd.js"],"names":["AdminLayout","children","className","TopHeader","title","btnSave","path","history","useHistory","onClick","push","size","SaveButton","btnText","disabled","isRow","type","schema","yup","name","required","newPrice","min","typeError","oldPrice","shipping","shape","files","test","value","banner","ProductForm","defaultValues","action","returnPath","useState","submitting","setSubmitting","mutateAsync","usePostData","useForm","resolver","yupResolver","register","handleSubmit","reset","errors","formState","onSubmit","data","a","formData","FormData","append","Boolean","inStock","setincludes","shortDes","description","information","sizeing","assistance","storeMail","Object","keys","forEach","key","length","i","status","toast","success","message","response","error","request","label","errorMessage","htmlFor","id","multiple","ProductAdd"],"mappings":"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","file":"static/js/10.d6a86d3d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Header from \"./header/Header\";\r\nimport Sidebar from \"./sidebar/Sidebar\";\r\n\r\nconst AdminLayout = ({ children }) => {\r\n  return (\r\n    <div className=\"w-screen h-screen text-white overflow-hidden\">\r\n      <div className=\"grid xl:grid-cols-layout w-full h-screen max-w-screen-3xl mx-auto\">\r\n        <div className=\"hidden xl:block\">\r\n          <Sidebar />\r\n        </div>\r\n        <div className=\"grid grid-rows-layout w-full h-screen overflow-hidden bg-light text-dark\">\r\n          <Header />\r\n          <div className=\"overflow-y-auto\">\r\n            <div className=\"grid grid-cols-1 p-4\">{children}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLayout;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { FaPlusCircle } from \"react-icons/fa\";\r\nimport { BsFillXCircleFill } from \"react-icons/bs\";\r\n\r\nconst TopHeader = ({ title, btnSave, path = \"\" }) => {\r\n  const history = useHistory();\r\n  return (\r\n    <div className=\"flex justify-between px-0 pb-2\">\r\n      <h1 className=\"text-2xl font-medium\">{title}</h1>\r\n      {btnSave ? (\r\n        <button\r\n          className=\"btn-header text-dark\"\r\n          onClick={() => history.push(path)}\r\n        >\r\n          <FaPlusCircle size={36} />\r\n        </button>\r\n      ) : (\r\n        <button\r\n          className=\"btn-header text-danger\"\r\n          onClick={() => history.push(path)}\r\n        >\r\n          <BsFillXCircleFill size={36} />\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TopHeader;\r\n","import React from \"react\";\r\n\r\nconst SaveButton = ({ btnText, disabled, isRow = true }) => {\r\n  return (\r\n    <div className={isRow ? \"form-row w-full\" : \"md:mt-6\"}>\r\n      <button type=\"submit\" className=\"btn-orange\" disabled={disabled}>\r\n        {btnText}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SaveButton;\r\n","import React, { useState } from \"react\";\r\nimport * as yup from \"yup\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport SaveButton from \"../../components/button/SaveButton\";\r\nimport Input from \"../../components/Input\";\r\nimport { usePostData } from \"../../hooks/dataApi\";\r\nimport toast from \"react-hot-toast\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst schema = yup\r\n  .object({\r\n    name: yup.string().required(\"Product Name is required\"),\r\n    type: yup.string().required(\"Product Type is required\"),\r\n    newPrice: yup\r\n      .number()\r\n      .min(0, \"Must be greater than or equal to 0\")\r\n      .typeError(\"Product new price is required\"),\r\n    oldPrice: yup\r\n      .number()\r\n      .min(0, \"Must be greater than or equal to 0\")\r\n      .typeError(\"Product old price is required\"),\r\n    title: yup.string().required(\"Product Title is required\"),\r\n    shipping: yup.string().required(\"Product shipping is required\"),\r\n  })\r\n  .shape({\r\n    files: yup\r\n      .mixed()\r\n      .test(\"fileSize\", \"Product images is required.\", (value) => {\r\n        return value && value[0];\r\n      }),\r\n    banner: yup\r\n      .mixed()\r\n      .test(\"fileSize\", \"Product banner is required.\", (value) => {\r\n        return value && value[0];\r\n      }),\r\n  });\r\n\r\nconst ProductForm = ({ defaultValues, action, btnText, path, returnPath }) => {\r\n  const history = useHistory();\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const { mutateAsync } = usePostData();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm({\r\n    defaultValues: defaultValues,\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const { name, type, newPrice, oldPrice, title, shipping, files, banner } =\r\n    errors;\r\n\r\n  const onSubmit = async (data) => {\r\n    let formData = new FormData();\r\n    formData.append(\"name\", data.name);\r\n    formData.append(\"type\", data.type);\r\n    formData.append(\"newPrice\", data.newPrice);\r\n    formData.append(\"oldPrice\", data.oldPrice);\r\n    formData.append(\"inStock\", Boolean(data.inStock));\r\n    formData.append(\"title\", data.title);\r\n    formData.append(\"setincludes\", data.setincludes);\r\n    formData.append(\"shortDes\", [data.shortDes]);\r\n    formData.append(\"description\", data.description);\r\n    const information = {\r\n      shipping: data.shipping,\r\n      sizeing: data.sizeing,\r\n      assistance: data.assistance,\r\n      storeMail: data.storeMail,\r\n    };\r\n    Object.keys(information).forEach((key) =>\r\n      formData.append(key, information[key])\r\n    );\r\n    if (data.files.length > 0) {\r\n      for (let i = 0; i < data.files.length; i++) {\r\n        formData.append(\"images\", data.files[i]);\r\n      }\r\n    }\r\n    formData.append(\"banner\", data.banner[0]);\r\n\r\n    setSubmitting(true);\r\n    try {\r\n      const { status, data } = await mutateAsync({\r\n        path: path,\r\n        formData: formData,\r\n      });\r\n      if (status === 201) {\r\n        toast.success(data.message);\r\n        reset();\r\n      }\r\n      if (status === 204) {\r\n        toast.success(\"Update successful!\");\r\n        history.push(returnPath);\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        toast.error(\"Response : \" + error.response.data.message);\r\n      } else if (error.request) {\r\n        toast.error(\"Request : \" + error.message);\r\n      } else {\r\n        toast.error(\"Error :\", error.message);\r\n      }\r\n    } finally {\r\n      action();\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div className=\"form-col\">\r\n        <Input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          label=\"Name\"\r\n          register={register}\r\n          errorMessage={name?.message}\r\n        />\r\n        <Input\r\n          name=\"type\"\r\n          type=\"text\"\r\n          label=\"Type\"\r\n          register={register}\r\n          errorMessage={type?.message}\r\n        />\r\n        <Input\r\n          name=\"oldPrice\"\r\n          type=\"text\"\r\n          label=\"Old Price\"\r\n          register={register}\r\n          errorMessage={oldPrice?.message}\r\n        />\r\n        <Input\r\n          name=\"newPrice\"\r\n          type=\"text\"\r\n          label=\"New Price\"\r\n          register={register}\r\n          errorMessage={newPrice?.message}\r\n        />\r\n        <div className=\"flex items-center gap-x-3\">\r\n          <label htmlFor=\"inStock\">In Stock</label>\r\n          <input\r\n            id=\"inStock\"\r\n            name=\"inStock\"\r\n            type=\"checkbox\"\r\n            {...register(\"inStock\")}\r\n          />\r\n        </div>\r\n        <Input\r\n          name=\"title\"\r\n          type=\"text\"\r\n          label=\"Title\"\r\n          register={register}\r\n          errorMessage={title?.message}\r\n        />\r\n        <Input\r\n          name=\"setincludes\"\r\n          type=\"text\"\r\n          label=\"Set Includes\"\r\n          register={register}\r\n        />\r\n        <Input\r\n          name=\"shipping\"\r\n          type=\"text\"\r\n          label=\"Shipping\"\r\n          register={register}\r\n          errorMessage={shipping?.message}\r\n        />\r\n        <Input name=\"sizeing\" type=\"text\" label=\"Sizeing\" register={register} />\r\n        <Input\r\n          name=\"assistance\"\r\n          type=\"text\"\r\n          label=\"Assistance\"\r\n          register={register}\r\n        />\r\n        <Input\r\n          name=\"storeMail\"\r\n          type=\"text\"\r\n          label=\"Store Mail\"\r\n          register={register}\r\n        />\r\n        <Input\r\n          name=\"description\"\r\n          type=\"text\"\r\n          label=\"Description\"\r\n          register={register}\r\n        />\r\n        <Input\r\n          name=\"shortDes\"\r\n          type=\"text\"\r\n          label=\"Short Description\"\r\n          register={register}\r\n        />\r\n        {/* <Input\r\n          name=\"shortDesTwo\"\r\n          type=\"text\"\r\n          label=\"Short Description\"\r\n          register={register}\r\n        />\r\n        <Input\r\n          name=\"shortDesThree\"\r\n          type=\"text\"\r\n          label=\"Short Description\"\r\n          register={register}\r\n        /> */}\r\n        <div>\r\n          <label className=\"block uppercase\">Product images</label>\r\n          <input {...register(\"files\")} type=\"file\" name=\"files\" multiple />\r\n          <p className=\"text-red-400 text-sm\">{files?.message}</p>\r\n        </div>\r\n        <div>\r\n          <label className=\"block uppercase\">Product Banner</label>\r\n          <input {...register(\"banner\")} type=\"file\" name=\"banner\" />\r\n          <p className=\"text-red-400 text-sm\">{banner?.message}</p>\r\n        </div>\r\n        <SaveButton btnText={btnText} disabled={submitting} />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProductForm;\r\n","import React from \"react\";\r\nimport AdminLayout from \"../../components/layout/AdminLayout\";\r\nimport TopHeader from \"../../components/TopHeader\";\r\nimport ProductForm from \"./ProductForm\";\r\n\r\nconst ProductAdd = () => {\r\n  const defaultValues = {\r\n    name: \"\",\r\n    type: \"\",\r\n    oldPrice: 0,\r\n    newPrice: 0,\r\n    inStock: false,\r\n    title: \"\",\r\n    setincludes: \"\",\r\n    shortDes: \"\",\r\n    information: {\r\n      shipping: \"\",\r\n      sizeing: \"\",\r\n      assistance: \"\",\r\n      storeMail: \"\",\r\n    },\r\n    description: \"\",\r\n    files: null,\r\n    banner: null,\r\n  };\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <div className=\"card w-full max-w-screen-xl\">\r\n        <TopHeader\r\n          title=\"Product Add\"\r\n          btnSave={false}\r\n          path=\"/admin/product-list\"\r\n        />\r\n        <ProductForm\r\n          defaultValues={defaultValues}\r\n          action={() => {}}\r\n          btnText=\"Save\"\r\n          path=\"/product/add\"\r\n          returnPath=\"/admin/product-list\"\r\n        />\r\n      </div>\r\n    </AdminLayout>\r\n  );\r\n};\r\n\r\nexport default ProductAdd;\r\n"],"sourceRoot":""}
(this["webpackJsonpreact-boilarplate"]=this["webpackJsonpreact-boilarplate"]||[]).push([[23],{341:function(e,s,t){"use strict";t(2);var r=t(25),a=t(62),c=t(3);s.a=function(){return Object(c.jsx)("div",{className:"text-darker",children:a.b.length>0&&a.b.map((function(e,s){return Object(c.jsx)("div",{children:Object(c.jsx)(r.c,{className:"my-2 pr-5 py-1 lg:block",activeClassName:"text-red-500",to:e.to,children:Object(c.jsx)("span",{className:"text-sm font-medium",children:e.label})})},s)}))})}},392:function(e,s,t){"use strict";t.r(s);var r=t(2),a=t(25),c=t(100),l=t(57),n=t(69),d=t(43),i=t(341),o=t(34),m=t(1),j=t.n(m),u=t(4),b=t(11),x=t(46),p=t(80),O=t(26),f=t(63),h=t(37),w=t(48),N=t(39),v=t(3),g=x.c({oldPassword:x.e().required("Old password is required").min(8,"Old password must be at least 8 characters").max(16,"Old password must be at most 16 characters"),newPassword:x.e().required("New password is required").min(8,"New password must be at least 8 characters").max(16,"New password must be at most 16 characters"),confirmPassword:x.e().required("Confirm password is required").oneOf([x.d("newPassword"),null],"Passwords does n't match")}),y=function(){var e=Object(d.d)().mutateAsync,s=Object(r.useState)(!1),t=Object(b.a)(s,2),a=t[0],c=t[1],l=Object(r.useState)(!1),n=Object(b.a)(l,2),i=n[0],m=n[1],x=i?"text":"password",y=Object(h.d)({resolver:Object(p.a)(g)}),P=y.register,q=y.handleSubmit,S=y.reset,k=y.formState.errors,C=k.oldPassword,E=k.newPassword,A=k.confirmPassword,I=function(){var s=Object(u.a)(j.a.mark((function s(t){var r;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e({path:"/user/update-password",formData:t});case 3:r=s.sent,204===r.status&&(N.b.success("Password change successfully."),S()),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),s.t0.response?N.b.error("Response : "+s.t0.response.data.message):s.t0.request?N.b.error("Request : "+s.t0.message):N.b.error("Error :",s.t0.message);case 11:return s.prev=11,c(!1),s.finish(11);case 14:case"end":return s.stop()}}),s,null,[[0,8,11,14]])})));return function(e){return s.apply(this,arguments)}}();return Object(v.jsxs)("form",{className:"my-7",onSubmit:q(I),children:[Object(v.jsx)("h5",{className:"mb-2 font-medium font-lg",children:"Password Change"}),Object(v.jsxs)("div",{className:"form-col",children:[Object(v.jsx)("div",{className:"grid md:grid-cols-2",children:Object(v.jsxs)("div",{className:"form-row",children:[Object(v.jsx)("input",Object(o.a)({type:x,className:"form-control",placeholder:"Old Password *"},P("oldPassword"))),Object(v.jsx)("p",{className:"text-red-400 text-sm",children:null===C||void 0===C?void 0:C.message}),Object(v.jsx)("span",{className:"px-2 py-2 absolute top-0.5 right-0 cursor-pointer",onClick:function(){return m(!i)},children:i?Object(v.jsx)(O.f,{}):Object(v.jsx)(w.b,{})})]})}),Object(v.jsx)("div",{className:"grid md:grid-cols-2",children:Object(v.jsxs)("div",{className:"form-row",children:[Object(v.jsx)("input",Object(o.a)({type:x,className:"form-control",placeholder:"New Password *"},P("newPassword"))),Object(v.jsx)("p",{className:"text-red-400 text-sm",children:null===E||void 0===E?void 0:E.message})]})}),Object(v.jsx)("div",{className:"grid md:grid-cols-2",children:Object(v.jsxs)("div",{className:"form-row",children:[Object(v.jsx)("input",Object(o.a)({type:x,className:"form-control",placeholder:"Confirm Password *"},P("confirmPassword"))),Object(v.jsx)("p",{className:"text-red-400 text-sm",children:null===A||void 0===A?void 0:A.message})]})}),Object(v.jsx)(f.a,{btnText:"UPDATE",Icon:O.a,type:"submit",btnWidth:"w-24",disabled:a})]})]})},P=t(44),q=x.c({fullName:x.e().required("Full Name is required")}),S=function(e){var s=e.defaultValues,t=(Object(d.d)().mutateAsync,Object(r.useState)(!1)),a=Object(b.a)(t,2),c=(a[0],a[1]),l=Object(h.d)({defaultValues:s,resolver:Object(p.a)(q)}),n=l.register,i=l.handleSubmit,o=(l.reset,l.formState.errors.fullName),m=function(){var e=Object(u.a)(j.a.mark((function e(s){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0);case 1:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(v.jsxs)("form",{onSubmit:i(m),children:[Object(v.jsx)("h5",{className:"mb-2 font-medium font-lg",children:"User Information"}),Object(v.jsxs)("div",{className:"form-col",children:[Object(v.jsx)("div",{className:"grid md:grid-cols-2",children:Object(v.jsx)(P.a,{name:"fullName",type:"text",placeholder:"Full Name *",register:n,errorMessage:null===o||void 0===o?void 0:o.message})}),Object(v.jsx)("div",{className:"grid md:grid-cols-2",children:Object(v.jsx)(P.a,{name:"email",type:"email",placeholder:"Email address *",register:n,disabled:!0})}),Object(v.jsx)(f.a,{btnText:"SAVE",Icon:O.a,type:"submit",btnWidth:"w-24"})]})]})};s.default=function(){var e=Object(d.b)("userInfo","/userinfo"),s=e.data,t=e.isLoading,r=e.isError,o=e.error;if(t)return Object(v.jsx)(l.a,{children:Object(v.jsx)(n.b,{})});if(r)return Object(v.jsx)(l.a,{children:Object(v.jsx)(c.a,{message:o.message})});var m="admin"===s.data.role;return Object(v.jsx)(l.a,{children:Object(v.jsxs)("div",{className:"grid gap-4 lg:grid-cols-6",children:[m?Object(v.jsx)(a.c,{className:"my-2 pr-5 py-1 lg:block",activeClassName:"text-red-500",to:"/user/my-account",children:Object(v.jsx)("span",{className:"text-sm font-medium",children:"My Profile"})}):Object(v.jsx)(i.a,{}),Object(v.jsxs)("div",{className:"card w-full max-w-screen-xl lg:col-span-5",children:[Object(v.jsx)("div",{className:"flex justify-between px-0 pb-2",children:Object(v.jsx)("h1",{className:"text-2xl font-medium",children:"My Profile"})}),Object(v.jsx)(S,{defaultValues:{fullName:s.data.fullName,email:s.data.email}}),Object(v.jsx)(y,{})]})]})})}}}]);
//# sourceMappingURL=23.60eea4f9.chunk.js.map